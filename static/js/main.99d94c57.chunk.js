(this["webpackJsonpemployee-directory"]=this["webpackJsonpemployee-directory"]||[]).push([[0],{52:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(24),r=a.n(c),o=a(8),l=a(9),s=a(10),i=a.n(s),u="make-request",j="get-data",d="error";function h(e,t){switch(t.type){case u:return{loading:!0,users:[]};case j:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,users:t.payload.users});case d:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errors:t.payload.error,users:[]});default:return e}}var b=a(53),m=a(55),O=a(4);function p(e){var t=e.user;return Object(O.jsx)(m.a,{className:"mb-3",children:Object(O.jsxs)(m.a.Body,{children:[Object(O.jsx)("div",{children:Object(O.jsxs)(m.a.Title,{children:["Employee Name: ",t.name.first," ",t.name.last]})}),Object(O.jsxs)("div",{children:["Phone: ",t.phone]}),Object(O.jsxs)("div",{children:["Email: ",t.email]}),Object(O.jsxs)("div",{children:["Location: ",t.location.city,", ",t.location.country]}),Object(O.jsx)("div",{children:Object(O.jsx)("img",{alt:t.name,src:t.picture.medium})})]})})}var g=a(54),x=a(25);function y(e){var t=e.params,a=e.onFilterChange,n=e.onFilterValueChange;return Object(O.jsx)(g.a,{className:"mb-4",children:Object(O.jsxs)(g.a.Row,{children:[Object(O.jsxs)(g.a.Group,{as:x.a,children:[Object(O.jsx)(g.a.Label,{children:"Search By:"}),Object(O.jsxs)(g.a.Control,{name:"type",onChange:a,as:"select",defaultValue:"Choose...",children:[Object(O.jsx)("option",{value:"0",children:"Choose..."}),Object(O.jsx)("option",{value:"EmployeeName",children:"Employee name"}),Object(O.jsx)("option",{value:"Location",children:"Location"})]})]}),Object(O.jsxs)(g.a.Group,{as:x.a,children:[Object(O.jsx)(g.a.Label,{children:"Location"}),Object(O.jsx)(g.a.Control,{onChange:n,value:t.searchValue,name:"searchValue",type:"text"})]})]})})}var f=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(1)),r=function(e,t){console.log("Fetch users called.");var a=Object(n.useReducer)(h,{users:[],loading:!0}),c=Object(o.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var a=i.a.CancelToken.source();return s({type:u}),i.a.get("https://randomuser.me/api/?results=50&nat=us",{cancelToken:a.token,params:Object(l.a)({markdown:!0,page:t},e)}).then((function(e){console.log(e),s({type:j,payload:{users:e.data.results}})})).catch((function(e){i.a.isCancel(e)||s({type:d,payload:{error:e}})})),function(){a.cancel()}}),[e,t]),r}(a,Object(o.a)(c,1)[0]),s=r.users,m=r.loading,g=r.error,x=Object(n.useState)(s),f=Object(o.a)(x,2),v=f[0],C=f[1],E=Object(n.useState)("EmployeeName"),F=Object(o.a)(E,2),L=F[0],N=F[1];return Object(n.useEffect)((function(){C(s)}),[s]),Object(O.jsxs)(b.a,{className:"my-4",children:[Object(O.jsx)("h1",{className:"mb-4 p-3 text-center bg-info text-white",children:"Employee Directory"}),Object(O.jsx)(y,{params:a,onFilterChange:function(e){console.log("handleFilterChange called."),N(e.target.value),console.log("Filter to use: ".concat(L))},onFilterValueChange:function(e){console.log("handleFilterValueChange called.");var t=e.target.name,a=e.target.value;console.log("params to add: ".concat(t," ").concat(a)),"EmployeeName"===L&&C(s.filter((function(e){return e.name.first===a||e.name.last===a}))),"Location"===L&&C(s.filter((function(e){return e.location.city===a}))),console.log("Total employee count: "+s.length),console.log("Filtered employee count: "+v.length)}}),m&&Object(O.jsx)("h1",{children:"Loading..."}),g&&Object(O.jsx)("h1",{children:"Error..."}),v.map((function(e){return Object(O.jsx)(p,{user:e},e.email)}))]})};r.a.render(Object(O.jsx)(f,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.99d94c57.chunk.js.map